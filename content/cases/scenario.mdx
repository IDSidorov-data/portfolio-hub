---
title: "Scenario: платформа моделирования юнит‑экономики (Core + Landing)"
summary: "Core на Python/Pandas считает P&L/CF/LTV; лендинг собирает лиды (антиспам/логирование)."
tags: ["Pandas/Streamlit","Excel‑экспорт","Next.js","Sentry/reCAPTCHA","Тесты"]
---

## Контекст
Платформа «что‑если» для управленческого моделирования: MRR/ARPU/CAC/Churn → P&L, Cash Flow, LTV.

## Цель
Объединить расчётное ядро и публичный лендинг для демо, сбора лидов и масштабирования.

## Архитектура
**Core (Python/Pandas + Streamlit).** Расчёт месячных траекторий MRR/оттока, LTV и агрегатов P&L/CF.  
Интерактивные параметры, локализация (RU), экспорт в **многостраничный Excel**. Тесты (pytest). Docker‑артефакты.

**Landing (Next.js).** Публичный сайт с формой лида: API‑роут `/api/lead`, **reCAPTCHA v3**, наблюдаемость (**Sentry**), автотесты (Jest/Playwright). Поддержка встраивания демо‑ядра (iframe).

## Потоки данных
1. Параметры → Ядро → Метрики/графики → Excel‑отчёт.
2. Форма лида → API → Хранилище (Supabase/Postgres) + Sentry для ошибок/трассировки.

## Ключевые решения
- Разделение **ядра** и **витрины**: независимые релизы и изоляция рисков.
- Экспорт **Excel** как артефакт офлайн‑анализа.
- Наблюдаемость и автотесты для стабильности публичного контура.
- Контейнеризация (Docker Compose) для быстрого запуска и CI/CD.

## Результат
Демо‑платформа: быстрый «what‑if», наглядные отчёты и воронка лидов.

## Стек
Core: Python, pandas, Streamlit, pytest, Docker.  
Landing: Next.js, Tailwind, API routes, reCAPTCHA v3, Sentry, Playwright/Jest.
